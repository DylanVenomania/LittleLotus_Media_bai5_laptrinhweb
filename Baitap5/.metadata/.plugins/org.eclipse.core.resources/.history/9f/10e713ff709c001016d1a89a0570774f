<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>[[${pageTitle}]]</title>
    <style> /* CSS đồng bộ */ </style>
</head>
<body>
    <h1>[[${pageTitle}]]</h1>

    <form th:action="@{/admin/videos/save}" method="post" th:object="${video}">
        <input type="hidden" th:field="*{id}" />

        <div>
            <label>Tiêu đề Video:</label>
            <input type="text" th:field="*{title}" required minlength="2" maxlength="255" />
        </div>
        
        <div>
            <label>URL Video:</label>
            <input type="text" th:field="*{videoUrl}" required />
        </div>

        <div>
            <label>Mô tả:</label>
            <textarea th:field="*{description}" rows="3"></textarea>
        </div>
        
        <div>
            <label>Đã xuất bản:</label>
            <input type="checkbox" th:field="*{published}" />
        </div>

        <div>
            <label>Uploader (User):</label>
            <select name="uploaderId" required>
                <option value="">-- Chọn Uploader --</option>
                <option th:each="user : ${users}" 
                        th:value="${user.id}" 
                        th:text="${user.username} + ' (' + ${user.id} + ')'"
                        th:selected="${video.uploader != null and user.id == video.uploader.id}">
                </option>
            </select>
        </div>
        
        <div>
            <label>Category:</label>
            <select name="categoryId" required>
                <option value="">-- Chọn Category --</option>
                <option th:each="cat : ${categories}" 
                        th:value="${cat.id}" 
                        th:text="${cat.name}"
                        th:selected="${video.category != null and cat.id == video.category.id}">
                </option>
            </select>
        </div>

        <button type="submit" class="btn-submit">Lưu Video</button>
        <a th:href="@{/admin/videos}" class="btn-cancel">Hủy</a>
    </form>
</body>
</html>